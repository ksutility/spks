<!DOCTYPE html>

<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="360 Image Viewer - AI Tools Arena">
    <meta name="description" content="Explore your 360-degree images with the 360 Image Viewer web app.">
    <meta name="keywords" content="360 image viewer, web app, AI Tools Arena">
    <meta name="robots" content="index, follow">
    
    <meta name="language" content="English">
    <meta name="author" content="AI Tools Arena">
    <title>360 Image Viewer</title>
    <script src="{{=URL('static','image360/pannellum.js')}}"></script>
    <link href="{{=URL('static','image360/pannellum.css')}}" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: black;
        }

        a {
            text-decoration: none;
        }

        img.logo {
            max-width: 400px;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #ffffff;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
        }

        input[type="file"] {
            display: none;
        }

        label {
            display: inline-block;
            padding: 12px 24px;
            font-weight: 600;
            font-size: 1rem;
            color: #000000;
            background-color: #00f3f5;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        label:hover {
            background-color: #3db6a8;
        }

        .input-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
            width: 100%;
            max-width: 100%;
            margin-bottom: 5px;
        }

        #viewer {
            width: 100%;
            max-width: 90%;
            height: 90%;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        button {
            display: inline-block;
            padding: 12px 24px;
            font-weight: 600;
            font-size: 1rem;
            color: #000000;
            background-color: #00f3f5;
            border-radius: 4px;
            margin-top: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
}
button:hover {
        background-color: #3db6a8;
    }

    #button-container {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 20px;
    }

</style>
</head>
<body style="">
    
    <h5>360 Image Viewer</h5>
    
    <div id="viewer" class="pnlm-container" tabindex="0"><div class="pnlm-ui pnlm-grab">
		<div class="pnlm-dragfix"></div>
			<span class="pnlm-about-msg">
				<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.5.6
			</span>
			<div class="pnlm-sprite pnlm-hot-spot-debug-indicator" style="display: none;"></div>
			<div class="pnlm-panorama-info" style="display: none;"><div class="pnlm-title-box"></div>
			<div class="pnlm-author-box"></div></div><div class="pnlm-load-box" style="display: none;">
				<p>Loading...</p>
				<div class="pnlm-lbox"><div class="pnlm-loading"></div>
			</div>
			<div class="pnlm-lbar">
				<div class="pnlm-lbar-fill" style="width: 100%;"></div>
			</div>
			<p class="pnlm-lmsg"></p>
		</div>
		<div class="pnlm-error-msg pnlm-info-box"></div>
			<div class="pnlm-controls-container">
				<div class="pnlm-zoom-controls pnlm-controls" style="display: block;">
					<div class="pnlm-zoom-in pnlm-sprite pnlm-control"></div>
					<div class="pnlm-zoom-out pnlm-sprite pnlm-control"></div>
				</div>
				<div class="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control" style="display: block;"></div>
			</div>
			<div class="pnlm-load-button" style="display: none;">
				<p>Click to<br>Load<br>Panorama</p>
			</div>
			<div class="pnlm-compass pnlm-controls pnlm-control" style="display: none;"></div>
		</div>
		<div class="pnlm-render-container">
			<canvas style="height: 100%; width: 100%;" width="1000" height="639"></canvas>
		</div>
	</div>
    <div id="button-container">
		
        <input type="file" id="file-input" accept="image/*">
        <label style="background-color:#ff0" for="file-input">بار گزاری فایل تصویر 360 درجه</label>

        <button id="toggle-button">تغییر جهت چرخش</button>
        <button id="increase-speed">افزایش سرعت چرخش</button>
        <button id="decrease-speed">کاهش سرعت چرخش</button>
    </div>
    <script>
        let viewer;
        let rotationDirection = -6;
        let rotationSpeed = 0.1;
        function createViewer(imageDataURL) {
        if (viewer) {
            viewer.destroy();
        }

        viewer = pannellum.viewer('viewer', {
            type: 'equirectangular',
            panorama: imageDataURL,
            autoLoad: true,
            autoRotate: rotationDirection * rotationSpeed
        });
    }

    function toggleRotationDirection() {
        rotationDirection = -rotationDirection;
        createViewer(viewer.getConfig().panorama);
    }

    function increaseRotationSpeed() {
        rotationSpeed += 0.1;
        createViewer(viewer.getConfig().panorama);
    }

    function decreaseRotationSpeed() {
        rotationSpeed -= 0.1;
        if (rotationSpeed < 0.1) {
            rotationSpeed = 0.1;
        }
        createViewer(viewer.getConfig().panorama);
    }

    document.getElementById('file-input').addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                createViewer(e.target.result);
            };
            reader.readAsDataURL(file);
        }
    });

    document.getElementById('toggle-button').addEventListener('click', function () {
        toggleRotationDirection();
    });

    document.getElementById('increase-speed').addEventListener('click', function () {
        increaseRotationSpeed();
    });

    document.getElementById('decrease-speed').addEventListener('click', function () {
        decreaseRotationSpeed();
    });
</script>


</body></html>